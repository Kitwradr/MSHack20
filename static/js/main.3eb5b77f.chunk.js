(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(t,e,a){},140:function(t,e,a){},141:function(t,e,a){"use strict";a.r(e);var n=a(0),i=a.n(n),o=a(11),r=a.n(o),s=a(30),c=a(31),p=a(34),l=a(32),u=a(33),d=(a(102),a(40)),m=a(8),h=a(29),v=a(60),f=a(18),y=["shop","recreation","eat"],E=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{category:"Shop",redirect:!1,userLocation:void 0,pins:[],destination:void 0,updateMap:!1,places:[]},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_CATEGORY":return console.log(e.category),t=y.indexOf(e.category.toLowerCase())+1?Object(f.a)({},t,{category:e.category}):Object(f.a)({},t,{redirect:!0});case"SET_USER_LOCATION":return t=Object(f.a)({},t,{userLocation:e.userLocation});case"ADD_PIN":var a=Object(v.a)(t.pins);return a.push(e.pin),t=Object(f.a)({},t,{pins:a,updateMap:!0});case"REMOVE_PINS":return t=Object(f.a)({},t,{pins:[]});case"ADD_PLACE":var n=Object(v.a)(t.places);return n.push(e.place),t=Object(f.a)({},t,{places:n});case"REMOVE_PLACES":return t=Object(f.a)({},t,{places:[]});case"SELECT_DESTINATION":return t=Object(f.a)({},t,{destination:e.destination,updateMap:!0});case"RESET_UPDATE_MAP":return t=Object(f.a)({},t,{updateMap:!1});default:return t}},g=Object(h.c)({find:E}),b=a(74),x=a(75),O=a.n(x),k=Object(h.d)(g,Object(h.a)(b.a,O.a)),w=a(49),P=function(){return i.a.createElement("div",null,i.a.createElement("h1",null,"Page Not found"))},j=a(164),M=a(159),C=a(161),L=a(51),S=a(158),N=Object(S.a)(function(t){return{root:{flexGrow:1},toolbar:{minHeight:"35px",maxHeight:"100px",alignItems:"flex-start",paddingTop:t.spacing(1),paddingBottom:t.spacing(2)},title:{flexGrow:1,fontStyle:"oblique",alignItems:"flex-end"}}}),I=function(){var t=N();return i.a.createElement("div",{className:t.root},i.a.createElement(M.a,{position:"static",className:t.root,color:"primary"},i.a.createElement(C.a,null,i.a.createElement(L.a,{variant:"h4",className:t.title},"DistItOut"))))},T=a(41),A=a(174),D=a(162),_=a(176),H=a(163),G=a(5),W=a(79),R=a.n(W),U=a(83),F=a.n(U),V=a(82),B=a.n(V),z=a(81),J=a.n(z),Q=a(80),Y=function(t){function e(t){var a;Object(s.a)(this,e);var n=void 0===(a=Object(p.a)(this,Object(l.a)(e).call(this,t))).props.strictIndexing||t.strictIndexing,i=void 0!==a.props.startAt?t.startAt:0;return i=Array.isArray(a.props.children)?n&&i>a.props.children.length-1?a.props.children.length-1:i:0,a.state={active:i,autoPlay:void 0===a.props.autoPlay||a.props.autoPlay,interval:void 0!==a.props.interval?a.props.interval:4e3,displayed:i},a.timer=null,R()(Object(T.a)(Object(T.a)(a))),a}return Object(u.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.start()}},{key:"componentWillUnmount",value:function(){this.stop()}},{key:"componentDidUpdate",value:function(t,e){t.autoPlay===e.autoPlay&&t.interval===e.interval||this.reset()}},{key:"stop",value:function(){this.timer&&(clearInterval(this.timer),this.timer=null)}},{key:"start",value:function(){this.state.autoPlay&&(this.timer=setInterval(this.next,this.state.interval))}},{key:"reset",value:function(){this.stop(),this.state.autoPlay&&this.start()}},{key:"pressIndicator",value:function(t){var e=this,a=this.state.active,n=void 0!==this.props.animation?this.props.animation:"fade",i=void 0!==this.props.timeout?this.props.timeout:"fade"===n?500:200,o=void 0!==this.props.onChange?this.props.onChange:function(){};this.setState({active:t,displayed:this.state.active},this.reset),setTimeout(function(){e.setState({displayed:t},function(){return o(t,a)})},i)}},{key:"next",value:function(t){var e=this,a=this.state.active,n=this.state.active+1>this.props.children.length-1?0:this.state.active+1,i=void 0!==this.props.animation?this.props.animation:"fade",o=void 0!==this.props.timeout?this.props.timeout:"fade"===i?500:200,r=this.props.onChange,s=void 0!==this.props.next?this.props.next:void 0!==r?r:function(){};this.setState({active:n,displayed:this.state.active},this.reset),setTimeout(function(){e.setState({displayed:n},function(){return s(n,a)})},o),t&&t.stopPropagation()}},{key:"prev",value:function(t){var e=this,a=this.state.active,n=this.state.active-1<0?this.props.children.length-1:this.state.active-1,i=void 0!==this.props.animation?this.props.animation:"fade",o=void 0!==this.props.timeout?this.props.timeout:"fade"===i?500:200,r=this.props.onChange,s=void 0!==this.props.prev?this.props.prev:void 0!==r?r:function(){};this.setState({active:n,displayed:this.state.active},this.reset),setTimeout(function(){e.setState({displayed:n},s(n,a))},o),t&&t.stopPropagation()}},{key:"render",value:function(){var t=this,e=void 0===this.props.indicators||this.props.indicators,a=void 0!==this.props.navButtonsAlwaysVisible&&this.props.navButtonsAlwaysVisible,n=void 0!==this.props.animation?this.props.animation:"fade",o=void 0!==this.props.timeout?this.props.timeout:"fade"===n?500:200,r=void 0===this.props.fullHeightHover||this.props.fullHeightHover,s=this.props.classes,c="".concat(s.button," ").concat(a?s.buttonVisible:s.buttonHidden," ").concat(r?s.fullHeightHoverButton:""),p="".concat(s.buttonWrapper," ").concat(r?s.fullHeightHoverWrapper:"");return i.a.createElement("div",{className:"".concat(s.root," ").concat(this.props.className?this.props.className:""),onMouseEnter:this.stop,onMouseOut:this.reset},Array.isArray(this.props.children)?this.props.children.map(function(e,a){return i.a.createElement(Z,{key:"carousel-item".concat(a),display:a===t.state.displayed,active:a===t.state.active,child:e,animation:n,timeout:o,next:t.next,prev:t.prev})}):i.a.createElement(Z,{key:"carousel-item0",display:!0,active:!0,child:this.props.children,animation:n,timeout:o}),i.a.createElement(A.a,{smDown:!0},i.a.createElement("div",{className:"".concat(p," ").concat(s.next)},i.a.createElement(D.a,{className:"".concat(c," ").concat(s.next),onClick:this.next,"aria-label":"Next"},i.a.createElement(J.a,null))),i.a.createElement("div",{className:"".concat(p," ").concat(s.prev)},i.a.createElement(D.a,{className:"".concat(c,"  ").concat(s.prev),onClick:this.prev,"aria-label":"Previous"},i.a.createElement(B.a,null)))),e?i.a.createElement(q,{classes:s,length:this.props.children.length,active:this.state.active,press:this.pressIndicator,indicatorProps:this.props.indicatorProps,activeIndicatorProps:this.props.activeIndicatorProps}):null)}}],[{key:"getDerivedStateFromProps",value:function(t,e){return t.autoPlay!==e.autoPlay||t.interval!==e.interval?{autoPlay:void 0===t.autoPlay||t.autoPlay,interval:void 0!==t.interval?t.interval:4e3}:null}}]),e}(n.Component);function Z(t){var e=Object(Q.a)({onSwipedLeft:function(){return t.next()},onSwipedRight:function(){return t.prev()}});return t.display?i.a.createElement("div",Object.assign({},e,{className:"CarouselItem"}),"slide"===t.animation?i.a.createElement(_.a,{direction:"left",in:t.active,timeout:t.timeout},i.a.createElement("div",null,t.child)):i.a.createElement(H.a,{in:t.active,timeout:t.timeout},i.a.createElement("div",null,t.child))):null}function q(t){for(var e=t.classes,a=[],n=function(n){var o=void 0!==t.indicatorProps?t.indicatorProps.style:void 0,r=void 0!==t.indicatorProps?t.indicatorProps.className:void 0,s=void 0!==t.activeIndicatorProps?t.activeIndicatorProps.style:void 0,c=void 0!==t.activeIndicatorProps?t.activeIndicatorProps.className:void 0;r=n===t.active?"".concat(e.indicator," ").concat(e.active," ").concat(r):"".concat(e.indicator," ").concat(c);var p=i.a.createElement(F.a,{key:n,size:"small",className:r,style:n===t.active?s:o,onClick:function(){t.press(n)}});a.push(p)},o=0;o<t.length;o++)n(o);return i.a.createElement("div",{className:"".concat(e.indicators)},a)}var $=Object(G.a)({root:{position:"relative"},indicators:{width:"100%",marginTop:"10px",textAlign:"center"},indicator:{fontSize:"15px",cursor:"pointer",transition:"200ms",color:"#afafaf","&:hover":{color:"#1f1f1f"},"&:active":{color:"#1f1f1f"}},active:{color:"#494949"},buttonWrapper:{position:"absolute",height:"100px",backgroundColor:"transparent",top:"calc(50% - 70px)","&:hover":{"& $button":{backgroundColor:"black",filter:"brightness(120%)",opacity:.4}}},fullHeightHoverWrapper:{height:"calc(100% - 20px - 10px) !important",top:"0 !important"},button:{margin:"0 10px",position:"relative",backgroundColor:"#494949",top:"30px",color:"white",fontSize:"30px",transition:"200ms",cursor:"pointer","&:hover":{opacity:"0.6 !important"}},fullHeightHoverButton:{top:"calc(50% - 20px) !important"},buttonVisible:{opacity:"0.6"},buttonHidden:{opacity:"0"},next:{right:0},prev:{left:0}})(Y),K=a(165),X=a(166),tt=a(167),et=a(168),at=a(169),nt=a(170),it=a(87),ot=a.n(it),rt=a(84),st=a.n(rt),ct=a(85),pt=a.n(ct),lt=a(86),ut=a.n(lt);function dt(){var t=[{name:"Shop",description:"Need to shop? No worries. Search for the best socially distanced shops near you.",img:st.a},{name:"Recreation",description:"Feeling bored? Want to have fun? Search for cool entertainment recreation activities here.",img:pt.a},{name:"Eat",description:"Getting hungry or too bored to cook? Fulfil your food desires by clicking here.",img:ut.a}];return i.a.createElement($,null,t.map(function(t,e){return i.a.createElement(ht,{key:e,item:t})}))}var mt=Object(S.a)({root:{marginTop:"40px",marginLeft:"10px",marginRight:"10px"},media:{height:200},link:{textDecoration:"none"}});function ht(t){return i.a.createElement(j.a,{container:!0,direction:"row",justify:"center"},i.a.createElement(j.a,{item:!0,xs:!1,sm:4}),i.a.createElement(j.a,{item:!0,xs:12,sm:4},i.a.createElement(vt,{name:t.item.name,description:t.item.description,title:t.item.name,img:t.item.img})),i.a.createElement(j.a,{item:!0,xs:!1,sm:4}))}function vt(t){var e=mt();return i.a.createElement(K.a,{className:e.root},i.a.createElement(X.a,null,i.a.createElement(tt.a,{className:e.media,image:t.img,title:t.title}),i.a.createElement(et.a,null,i.a.createElement(L.a,{gutterBottom:!0,variant:"h5",component:"h2"},t.name),i.a.createElement(L.a,{variant:"body2",color:"textSecondary",component:"p"},t.description))),i.a.createElement(at.a,null,i.a.createElement(d.b,{to:"/find?category="+t.name,className:e.link},i.a.createElement(nt.a,{size:"medium",color:"primary",endIcon:i.a.createElement(ot.a,null)},"Find"))))}function ft(){return i.a.createElement(n.Fragment,null,i.a.createElement(j.a,{container:!0,direction:"column"},i.a.createElement(j.a,{item:!0},i.a.createElement(I,null)),i.a.createElement(j.a,{item:!0},i.a.createElement(dt,null))))}var yt=a(58),Et=a.n(yt),gt=a(88),bt=a(173),xt=a(91),Ot=a(89),kt=a.n(Ot),wt=a(171),Pt=a(175),jt=a(172),Mt=Object(S.a)(function(t){return{root:{minWidth:"100px",width:"80vw",marginTop:"20px",margin:"auto",height:"30vh",maxHeight:"30vh",overflow:"auto"}}});function Ct(t){var e=Mt();return i.a.createElement(j.a,{container:!0,direction:"row"},i.a.createElement(wt.a,{className:e.root},t.items.map(function(e,a){return i.a.createElement(nt.a,{key:a,onClick:function(){t.open(e.location)},style:{display:"block",width:"100%"}},i.a.createElement(Pt.a,null,i.a.createElement(jt.a,{primary:e.index+". "+e.name,secondary:e.phoneNumber})))})))}var Lt,St,Nt,It={setCategory:function(t){return k.dispatch({type:"SET_CATEGORY",category:t})},setUserLocation:function(t){return k.dispatch({type:"SET_USER_LOCATION",userLocation:t})},addPin:function(t){return k.dispatch({type:"ADD_PIN",pin:t})},removePins:function(){return k.dispatch({type:"REMOVE_PINS"})},addPlace:function(t){return k.dispatch({type:"ADD_PLACE",place:t})},removePlaces:function(){return k.dispatch({type:"REMOVE_PLACES"})},selectDestination:function(t){return k.dispatch({type:"SELECT_DESTINATION",destination:t})},resetUpdateMap:function(){return k.dispatch({type:"RESET_UPDATE_MAP"})}},Tt=a(44),At=a.n(Tt),Dt=a(59),_t=a.n(Dt),Ht="https://distitout.azurewebsites.net/",Gt=function(t,e){return At.a.get(Ht+t+"?"+_t.a.stringify(e))};var Wt=function(t){function e(){return Object(s.a)(this,e),Object(p.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(c.a)(e,[{key:"FetchListItems",value:function(){var t=Object(gt.a)(Et.a.mark(function t(){var e,a,n,i;return Et.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,t.t0=this.props.category.toLowerCase(),t.next="shop"===t.t0?4:"recreation"===t.t0?6:"eat"===t.t0?8:10;break;case 4:return e="stores",t.abrupt("break",12);case 6:return e="recreation",t.abrupt("break",12);case 8:return e="eat",t.abrupt("break",12);case 10:return e="stores",t.abrupt("break",12);case 12:return t.next=14,Gt("local_info",{lattitude:this.props.userLocation.latitude,longitude:this.props.userLocation.longitude,entityType:e});case 14:for(Nt=(Nt=t.sent).data,a=0;a<Nt.resourceSets[0].resources.length;++a)n=new window.Microsoft.Maps.Location(Nt.resourceSets[0].resources[a].point.coordinates[0],Nt.resourceSets[0].resources[a].point.coordinates[1]),It.addPlace({name:Nt.resourceSets[0].resources[a].name,location:n,phoneNumber:Nt.resourceSets[0].resources[a].PhoneNumber,index:a+1}),i=this.CreatePins(n,{text:a+1+""}),It.addPin(i);this.GetMap({center:this.props.userLocation},this.props.pins),t.next=23;break;case 20:t.prev=20,t.t1=t.catch(0),It.setCategory("Error");case 23:case"end":return t.stop()}},t,this,[[0,20]])}));return function(){return t.apply(this,arguments)}}()},{key:"GetMap",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=new Lt.Maps.Map("#showMap",t),n=0;n<e.length;n++)a.entities.push(e[n]);this.props.destination&&Lt.Maps.loadModule("Microsoft.Maps.Directions",function(){St=new Lt.Maps.Directions.DirectionsManager(a);var t=new Lt.Maps.Directions.Waypoint({location:this.props.userLocation});St.addWaypoint(t);var e=new Lt.Maps.Directions.Waypoint({location:this.props.destination});St.addWaypoint(e),St.setRenderOptions({itineraryContainer:"#directionsItinerary"}),St.calculateDirections()})}},{key:"CreateLocation",value:function(t,e){return new Lt.Maps.Location(t,e)}},{key:"CreatePins",value:function(t,e){return new Lt.Maps.Pushpin(t,e)}},{key:"GenerateLink",value:function(t,e){return"https://bing.com/maps/default.aspx?rtp=pos.".concat(t.latitude,"_").concat(t.longitude,"~pos.").concat(e.latitude,"_").concat(e.longitude)}},{key:"OpenLink",value:function(t){var e=this;return function(a){var n=e.GenerateLink(t,a);window.open(n,"_blank")}}},{key:"componentDidMount",value:function(){var t=this,e=kt.a.parse(this.props.location.search);console.log(e),It.setCategory(e.category),window.httpGet=Gt,new Promise(function(t,e){var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.defer=!0,a.src="http://www.bing.com/api/maps/mapcontrol?callback=GetMap&key=AoUmJwkCEO-LcuZPDFTJQrxCWMp6su1ujEntp66HHnL_TZpQWxGl1MoiHAGwzWVi",a.onload=function(){setTimeout(function(){t()},3e3)},a.onerror=function(t){e(t)},document.body.appendChild(a)}).then(function(){Lt=window.Microsoft;var e=new window.Microsoft.Maps.Location(47.602038,-122.333964);It.setUserLocation(e);var a=t.CreatePins(t.props.userLocation,{text:"Me"});It.addPin(a),t.FetchListItems(),t.GetMap({center:t.props.userLocation},t.props.pins)}).catch(function(t){console.log(t)})}},{key:"render",value:function(){return this.props.updateMap&&(this.GetMap({center:this.props.userLocation},this.props.pins),It.resetUpdateMap()),i.a.createElement(j.a,{container:!0,direction:"column"},i.a.createElement(j.a,{item:!0},i.a.createElement(bt.a,{display:"flex",justifyContent:"center",m:1,p:1,bgcolor:"background.paper"},i.a.createElement(bt.a,{p:1},i.a.createElement(L.a,{variant:"h4",align:"justify"},"Here are our top picks")))),i.a.createElement(j.a,{item:!0},i.a.createElement(xt.a,{id:"showMap",style:{position:"relative",minWidth:"100px",width:"80vw",height:"60vh",margin:"auto",marginTop:"10px",maxHeight:"400px"}})),i.a.createElement(j.a,{item:!0},i.a.createElement(Ct,{open:this.OpenLink(this.props.userLocation),items:this.props.places})),this.props.redirect?i.a.createElement(m.a,{to:"Error"}):i.a.createElement(n.Fragment,null))}}]),e}(n.Component),Rt=Object(w.b)(function(t){return Object(f.a)({},t.find)})(Wt),Ut=function(t){function e(){return Object(s.a)(this,e),Object(p.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return i.a.createElement(w.a,{store:k},i.a.createElement("div",null,i.a.createElement(d.a,null,i.a.createElement("div",null,i.a.createElement(m.d,null,i.a.createElement(m.b,{exact:!0,path:"/",component:ft}),i.a.createElement(m.b,{exact:!0,path:"/find",component:Rt}),i.a.createElement(m.b,{component:P}))))))}}]),e}(n.Component);a(140);r.a.render(i.a.createElement(Ut,null),document.getElementById("root"))},84:function(t,e,a){t.exports=a.p+"static/media/shop.e90a0cdc.jpg"},85:function(t,e,a){t.exports=a.p+"static/media/recreation.aa069dd7.jpg"},86:function(t,e,a){t.exports=a.p+"static/media/eat.1edf3b22.jpg"},97:function(t,e,a){t.exports=a(141)}},[[97,1,2]]]);
//# sourceMappingURL=main.3eb5b77f.chunk.js.map